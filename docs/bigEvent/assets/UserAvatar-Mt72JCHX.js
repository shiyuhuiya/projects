import{_ as E}from"./pageContainer-Dx6Bew2R.js";import{_ as U,a as b,r as d,o as r,v as i,e as a,d as e,c as S,j as c,f,bR as h,E as w,i as x,aV as m,bS as B,p as I,k as A,b as V}from"./index-4za3T2Bg.js";import{E as C}from"./el-button-BwwfxY63.js";import{E as N}from"./el-progress-BpjErhTi.js";import"./_baseClone-3wEERyQ3.js";import"./isEqual-CcVuxWf2.js";const R=s=>(I("data-v-e8e1fd5f"),s=s(),A(),s),z=["src"],F=R(()=>V("br",null,null,-1)),$={__name:"UserAvatar",setup(s){const n=b(),u=d(),o=d(n.user.user_pic),v=_=>{const t=new FileReader;t.readAsDataURL(_.raw),t.onload=()=>{o.value=t.result}},k=async()=>{await h(o.value),n.getUser(),w.success("修改头像成功")};return(_,t)=>{const l=x,g=N,p=C,y=E;return r(),i(y,{title:"更换头像"},{default:a(()=>[e(g,{ref_key:"upload",ref:u,class:"upload-demo",limit:1,"auto-upload":!1,"on-change":v},{default:a(()=>[o.value?(r(),S("img",{key:0,src:o.value,class:"avatar"},null,8,z)):(r(),i(l,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[e(c(m))]),_:1}))]),_:1},512),F,e(p,{type:"primary",size:"large",onClick:t[0]||(t[0]=j=>u.value.$el.querySelector("input").click())},{default:a(()=>[e(l,null,{default:a(()=>[e(c(m))]),_:1}),f(" 选择图片 ")]),_:1}),e(p,{type:"success",size:"large",onClick:k},{default:a(()=>[e(l,null,{default:a(()=>[e(c(B))]),_:1}),f("上传图片 ")]),_:1})]),_:1})}}},G=U($,[["__scopeId","data-v-e8e1fd5f"]]);export{G as default};
