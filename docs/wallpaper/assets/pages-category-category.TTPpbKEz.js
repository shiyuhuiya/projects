import{e as a,f as e,g as s,a as t,w as u,c as l,p as o,F as m,q as i,s as n,d as r,o as p,h as c}from"./index--VlwtK7i.js";import{a as d,_ as v}from"./home.-utJ021_.js";import{_ as f,d as g,a as _,r as j}from"./uni-app.es.Cx3T8sLT.js";import{_ as h}from"./theme-item.B8RHAzVH.js";import{_ as y}from"./uni-load-more.CC2SXXRq.js";import"./uni-icons.BZlKMknx.js";import"./index.D1decF-J.js";import"./uni-dateformat.CT-SXJj6.js";const b=f({__name:"category",setup(f){const b=a({pageNum:1,pageSize:13}),N=a([]);async function k(a){const{data:{data:e,total:s}}=await d(b.value);w.value=s,N.value=[...N.value,...e],a&&a()}k();let x=null;const w=a(0),z=a(!1);return g((()=>{b.value.pageNum*b.value.pageSize>=w.value?z.value=!0:(x&&clearTimeout(x),x=setTimeout((()=>{b.value.pageNum+=1,k((()=>{i()}))}),500))})),_((()=>{N.value=[],b.value.pageNum=1,k((()=>{n()}))})),(a,i)=>{const n=j(e("nav-bar"),v),d=j(e("theme-item"),h),f=r,g=j(e("uni-load-more"),y);return p(),s(m,null,[t(f,{class:"container bk"},{default:u((()=>[t(n,{title:"分类"}),t(f,{class:"classify"},{default:u((()=>[(p(!0),s(m,null,c(N.value,((a,e)=>(p(),l(d,{key:e,item:a},null,8,["item"])))),128))])),_:1})])),_:1}),0!=N.value.length?(p(),l(g,{key:0,status:z.value?"noMore":"more"},null,8,["status"])):o("",!0)],64)}}},[["__scopeId","data-v-67ab5def"]]);export{b as default};
