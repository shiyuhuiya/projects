import{o as a,c as t,w as e,a as s,b as l,t as i,r,i as u,d as c,e as o,f as n,s as d,g as f,h as m,F as p,j as _,S as v,k as g,n as y,l as h,m as w}from"./index-Cwgj25Mm.js";import{g as b,a as k,b as j,c as x,_ as P}from"./home.ClQWplb2.js";import{_ as L,o as C,a as F,b as $,c as z,r as I}from"./uni-app.es.CURNJPra.js";import{_ as S}from"./uni-icons.D8U0aXxv.js";import{_ as D}from"./uni-dateformat.Sk3zLf7z.js";import{_ as E}from"./theme-item.F-ZMdkL9.js";import{u as M}from"./picList.DgskRdb3.js";import"./index.DwUfxuiK.js";const U=L({__name:"common-title",props:{title:String},setup:o=>(n,d)=>{const f=u,m=c;return a(),t(m,{class:"container"},{default:e((()=>[s(m,{class:"left"},{default:e((()=>[s(f,null,{default:e((()=>[l(i(o.title),1)])),_:1})])),_:1}),s(m,{class:"right"},{default:e((()=>[r(n.$slots,"default",{},void 0,!0)])),_:3})])),_:3})}},[["__scopeId","data-v-050cb1e6"]]),q=L({__name:"home",setup(r){const L=M(),q=o([]),A=o([]),B=o([]);async function G(){const{data:a}=await b();q.value=a.data}async function H(){const{data:a}=await k({});A.value=a.data}async function J(){const{data:a}=await j();B.value=a.data,B.value.forEach((a=>{a.bigPic=a.smallPicurl.replace(/_small.webp/,".jpg")})),L.setPicList(B.value)}G(),H(),J(),C((()=>{L.setPicList(B.value)}));const K=o([]);async function N(a){const t=await x();K.value=t.data.data,a&&a()}return N(),F((()=>{G(),H(),J(),N((()=>{d()}))})),$((()=>({title:"波奇酱~",path:"/pages/home/home",imageUrl:"/static"}))),z((()=>({title:"波奇酱~壁纸"}))),(r,o)=>{const d=I(n("nav-bar"),P),b=h,k=_,j=w,x=v,L=c,C=I(n("uni-icons"),S),F=u,$=I(n("uni-dateformat"),D),z=I(n("common-title"),U),M=g,G=I(n("theme-item"),E);return a(),t(L,{class:"container bk"},{default:e((()=>[s(d,{title:"首页"}),s(L,{class:"swiper"},{default:e((()=>[s(x,{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3,circular:"","indicator-active-color":"#fff"},{default:e((()=>[(a(!0),f(p,null,m(q.value,(l=>(a(),t(j,{key:l._id},{default:e((()=>["self"==l.target?(a(),t(k,{key:0,url:"/pages/sub/categoryList/categoryList?"+l.url,target:"self"},{default:e((()=>[s(b,{src:l.picurl,mode:"widthFix"},null,8,["src"])])),_:2},1032,["url"])):(a(),t(k,{key:1,"app-id":l.appid,target:"miniProgram",url:l.url},{default:e((()=>[s(b,{src:l.picurl,mode:"widthFix"},null,8,["src"])])),_:2},1032,["app-id","url"]))])),_:2},1024)))),128))])),_:1})])),_:1}),s(L,{class:"notice"},{default:e((()=>[s(L,{class:"left"},{default:e((()=>[s(C,{type:"sound",size:"48rpx"}),s(F,null,{default:e((()=>[l("公告")])),_:1})])),_:1}),s(L,{class:"middle"},{default:e((()=>[s(x,{autoplay:!0,interval:3e3,duration:1e3,vertical:"true",circular:"true"},{default:e((()=>[(a(!0),f(p,null,m(K.value,(s=>(a(),t(j,{key:s._id,onClick:a=>{return t=s._id,void y({url:`/pages/sub/notice/notice?id=${t}`});var t}},{default:e((()=>[l(i(s.title),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),s(L,{class:"right"},{default:e((()=>[s(C,{type:"right"})])),_:1})])),_:1}),s(L,{class:"preview"},{default:e((()=>[s(z,{title:"每日推荐"},{default:e((()=>[s(C,{type:"calendar",size:"48rpx"}),s($,{date:Date.now(),format:"dd日"},null,8,["date"])])),_:1}),s(M,{"scroll-x":"true"},{default:e((()=>[(a(!0),f(p,null,m(B.value,((e,s)=>(a(),t(b,{src:e.smallPicurl,key:e._id,onClick:a=>function(a){y({url:`/pages/sub/preview/preview?index=${a}`})}(s)},null,8,["src","onClick"])))),128))])),_:1})])),_:1}),s(L,{class:"theme"},{default:e((()=>[s(z,{title:"专题精选"},{default:e((()=>[s(k,{url:""},{default:e((()=>[l("More+")])),_:1})])),_:1}),s(L,{class:"content"},{default:e((()=>[(a(!0),f(p,null,m(A.value,(e=>(a(),t(G,{key:e._id,item:e},null,8,["item"])))),128)),s(G)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-d004fd86"]]);export{q as default};
