import{f as a,o as e,c as l,w as s,a as t,r as n,b as i,t as u,i as o,d as r,e as c,s as d,p,n as f,x as _,l as m,y as v}from"./index-Cwgj25Mm.js";import{c as y,_ as b}from"./home.ClQWplb2.js";import{_ as w,r as x,a as z}from"./uni-app.es.CURNJPra.js";import{_ as k}from"./uni-icons.D8U0aXxv.js";import{g}from"./user.Bk7mJtIJ.js";import"./index.DwUfxuiK.js";const h=w({__name:"panel-item",props:{title:String,num:Number},setup:c=>(d,p)=>{const f=o,_=r,m=x(a("uni-icons"),k);return e(),l(_,{class:"container"},{default:s((()=>[t(_,{class:"left"},{default:s((()=>[n(d.$slots,"default",{},void 0,!0),t(f,null,{default:s((()=>[i(u(c.title),1)])),_:1})])),_:3}),t(_,{class:"right"},{default:s((()=>[t(f,null,{default:s((()=>[i(u(c.num),1)])),_:1}),t(m,{type:"right",size:"30rpx",color:"#A4A4A4"})])),_:1})])),_:3})}},[["__scopeId","data-v-d63b9b0c"]]),j=w({__name:"user",setup(n){const o=c(null);async function w(a){const e=await g();o.value=e.data.data,a&&a()}w();const j=c(null);function C(){f({url:`/pages/sub/wallpaperList/wallpaperList?type=download&name=我的下载&Total=${o.value.downloadSize}`})}function S(a){f({url:`/pages/sub/notice/notice?id=${a}`})}function A(){f({url:`/pages/sub/wallpaperList/wallpaperList?type=score&name=我的评分&Total=${o.value.scoreSize}`})}function L(){_({phoneNumber:"123123123"})}return async function(){const a=await y();j.value=a.data.data}(),z((()=>{w((()=>{d()}))})),(n,c)=>{const d=x(a("nav-bar"),b),f=m,_=r,y=x(a("uni-icons"),k),w=v;return e(),l(_,{class:"container bk"},{default:s((()=>[t(d,{isSearch:!1}),o.value?(e(),l(_,{key:0,class:"userinfo"},{default:s((()=>[t(f,{src:"/wallpaper/assets/lone-CTUie1AF.jpg",mode:"",class:"avatar"}),t(_,{class:"ip"},{default:s((()=>[i(u(o.value.IP),1)])),_:1}),t(_,{class:"location"},{default:s((()=>[i(" 来自："+u(o.value.address.province+" "+o.value.address.city),1)])),_:1})])),_:1})):p("",!0),o.value?(e(),l(_,{key:1,class:"panel"},{default:s((()=>[t(_,{class:"",onClick:C},{default:s((()=>[t(h,{title:"我的下载",num:o.value.downloadSize},{default:s((()=>[t(y,{type:"download-filled",size:"40rpx"})])),_:1},8,["num"])])),_:1}),t(_,{class:"",onClick:A},{default:s((()=>[t(h,{title:"我的评分",num:o.value.scoreSize},{default:s((()=>[t(y,{type:"star-filled",size:"40rpx"})])),_:1},8,["num"])])),_:1}),t(h,{title:"联系客服"},{default:s((()=>[t(y,{type:"chatboxes-filled",size:"40rpx"})])),_:1}),t(w,{onClick:L,class:"contact"},{default:s((()=>[i("拨打电话")])),_:1})])),_:1})):p("",!0),o.value?(e(),l(_,{key:2,class:"panel2"},{default:s((()=>[t(h,{title:"订阅更新",onClick:c[0]||(c[0]=a=>{var e;return S(null==(e=j.value)?void 0:e[1]._id)})},{default:s((()=>[t(y,{type:"notification-filled",size:"40rpx"})])),_:1}),t(h,{title:"常见问题",onClick:c[1]||(c[1]=a=>{var e;return S(null==(e=j.value)?void 0:e[2]._id)})},{default:s((()=>[t(y,{type:"help-filled",size:"40rpx"})])),_:1})])),_:1})):p("",!0)])),_:1})}}},[["__scopeId","data-v-4280e153"]]);export{j as default};
